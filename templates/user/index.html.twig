{% extends 'base.html.twig' %}

{% block title %}Liste des patient
{% endblock %}

{% block stylesheets %}
	{{ encore_entry_link_tags('app') }}
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Courgette &family=Dancing+Script:wght@400;500;600;700&family=Noto+Sans:ital, wght@0, 100;0, 200;0, 300;0, 400;0, 500;0, 700;0, 800;0, 900;1, 100;1, 200;1, 300;1, 400;1, 500;1, 600;1, 700;1, 800;1, 900&display=swap');

		h1,
		h3 {
			text-align: center;
			color: #c52126;
			font-family: 'Courgette', cursive;
		}
		.table-with-margin {
			margin: 20px; /* Ajoute une marge de 20 pixels autour du tableau */
		}
	</style>
{% endblock %}

{% block body %}
	<div class="text-center">

		<h1 class="mb-6">Liste des patients</h1>

		<a class="font-medium" href="{{ path('app_register') }}" style="color: #4e8016" >Ajouter un patient
			<i class="fa-solid fa-user-plus"></i>
		</a>

	</div>
	<div class="flex justify-center">
		<div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
			<div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
				<div class="overflow-hidden">
					<table class="mb-4 min-w-full text-center text-sm font-light">
						<thead class="border-b font-medium dark:border-neutral-500">
							<tr>
								<th scope="col" class="px-6 py-4">Id</th>
								<th scope="col" class="px-6 py-4">Nom</th>
								<th scope="col" class="px-6 py-4">Prénom</th>
								<th scope="col" class="px-6 py-4">Télephone</th>
								<th scope="col" class="px-6 py-4">Email</th>
								<th scope="col" class="px-6 py-4">Régimes</th>
								<th scope="col" class="px-6 py-4">Allergies</th>
								<th scope="col" class="px-6 py-4">Actions</th>
							</tr>
						</thead>
						<tbody>
							{% for user in users %}
								<tr class="border-b transition duration-300 ease-in-out hover:bg-neutral-100 dark:b">
									<td class="whitespace-nowrap px-6 py-4 font-medium">
										{{ user.id }}
									</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.nom }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.prenom }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.numTelephone }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.email }}</td>
									{% for regime in user.regimes %}
										<td class="whitespace-nowrap px-6 py-4">{{ regime.nom }}</td>
									{% endfor %}
									{% for allergie in user.allergies %}
										<td class="whitespace-nowrap px-6 py-4">{{ allergie.nom }}</td>
									{% endfor %}
									<td>
										<a class="mb-2 px-6 py-2.5 text-xl text-light" href="{{ path('app_user_show', {'id': user.id}) }}">
											<i class="fa-solid fa-eye"></i>
										</a>
										<a class="mb-2 px-6 py-2.5 text-xl text-success " href="{{ path('app_user_edit', {'id': user.id}) }}">
											<i class="fa-solid fa-pen-to-square"></i>
										</a>
										<a class=" mb-2 px-6 py-2.5 text-xl text-danger " href="{{ path('app_user_delete', {'id': user.id}) }}">
											<i class="fa-solid fa-trash"></i>
										</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	{{ encore_entry_script_tags('app') }}
{% endblock %}
