{% extends 'base.html.twig' %}

{% block title %}Liste des patient
{% endblock %}

{% block stylesheets %}
	{{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
	<h1>Liste des patients</h1>
	<a href="{{ path('app_register') }}">Create new</a>
	<div class="flex flex-col">
		<div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
			<div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
				<div class="overflow-hidden">
					<table class="min-w-full text-center text-sm font-light">
						<thead class="border-b font-medium dark:border-neutral-500">
							<tr>
								<th scope="col" class="px-6 py-4">Id</th>
								<th scope="col" class="px-6 py-4">Nom</th>
								<th scope="col" class="px-6 py-4">Prénom</th>
								<th scope="col" class="px-6 py-4">Télephone</th>
								<th scope="col" class="px-6 py-4">Email</th>
								<th scope="col" class="px-6 py-4">Régimes</th>
								<th scope="col" class="px-6 py-4">Allergies</th>
								<th scope="col" class="px-6 py-4">Actions</th>
							</tr>
						</thead>
						<tbody>
							{% for user in users %}
								<tr class="border-b dark:border-neutral-500">
									<td class="whitespace-nowrap px-6 py-4 font-medium">
										{{ user.id }}
									</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.nom }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.prenom }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.numTelephone }}</td>
									<td class="whitespace-nowrap px-6 py-4">{{ user.email }}</td>
									{% for regime in user.regimes %}
										<td class="whitespace-nowrap px-6 py-4">{{ regime.nom }}</td>
									{% endfor %}
									{% for allergie in user.allergies %}
										<td class="whitespace-nowrap px-6 py-4">{{ allergie.nom }}</td>
									{% endfor %}
									<td>
										<a class="mb-2 px-6 py-2.5 text-xl text-light" href="{{ path('app_user_show', {'id': user.id}) }}">
											<i class="fa-solid fa-eye"></i>
										</a>
										<a  class="mb-2 px-6 py-2.5 text-xl text-success " href="{{ path('app_user_edit', {'id': user.id}) }}">
											<i class="fa-solid fa-pen-to-square"></i>
										</a>
										<a  class=" mb-2 px-6 py-2.5 text-xl text-danger " href="{{ path('app_user_delete', {'id': user.id}) }}">
											<i class="fa-solid fa-trash"></i>
										</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	{{ encore_entry_script_tags('app') }}
{% endblock %}
